{% extends 'base.html.twig' %}

{% block title %}Home page{% endblock %}

{% block body %}
<div class="container">
    <h1>Posts</h1>
    <br>
    <div class="row">
        {% for post in posts %}
            <div class="col-3">
                <h4>{{ post.title }}</h4>
                <p>{{ post.content }}</p>

                <div>

                    <a

                     {% if app.user %}

                         {% for item in post.reactions %}

                           {% if item.post == post and item.author==app.user  %}
                                style="color: red"
                           {% endif %}

                        {% endfor %}

                     {% endif %}

                    href="{{ path('app_reaction',{'id':post.id}) }}">Like</a>

                    <a

                    {% if app.user %}

                     {% for item in post.reactions %}

                       {% if item.post == post and item.author==app.user  %}
                            style="color: red"
                       {% endif %}

                    {% endfor %}

                   {% endif %}

                    href="{{ path('app_reaction_users',{'id':post.id}) }}">({{ post.reactions|length }} )</a>

                </div>
            </div>
        {% endfor %}
    </div>

</div>
{% endblock %}


